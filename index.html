<!DOCTYPE html>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" class="flexNav-no-touch" lang="en">
<head>
	<meta content="text/html; charset=UTF-8" http-equiv="content-type">
	<meta content="text/javascript" http-equiv="content-script-type">
	<meta content="0" http-equiv="expires">
	<meta content="no-cache" http-equiv="pragma">
	<meta content="no-cache, must-revalidate" http-equiv="cache-control">
	<meta content="initial-scale=1.0, user-scalable=1" name="viewport">
	<title>Checkout Page</title>
	</head>
<style type="text/css">
img {
   position: absolute;
   left: 50%;
   width: 750px;
   margin-left: -375px;
   z-index: -1;/* Half the width */
}</style>
<body style="background-image:url(bg.png); z-index: -1;">
	<input type="hidden" id="cbnumber" value="">
	    <?php echo 'print this string'; ?>
	<img src="bgCheckout.png" usemap="#mymap"/>
	<map name="mymap">
	 <area shape="rect" coords="590,406,670,430" onclick="myfunc();" />
 </map>
		<script>
	var url = new URL(window.location.href);
	var c = url.searchParams.get("numcard");
	console.log(c);
	</script>
	
<p class="img">
	<p style="position: absolute; left: 400px; top: 410px"> Install and try: </p>
	<a href="recommendedapp/index.html">
		<img class="left" src="recommendedapp/bgPaylib.png" alt="" title="" style="width: 50px; height: 30px;position: absolute;
left: 65%;
top: 422px;  z-index: 1;" />
	</a>
	
	<script>
		function myfunc(){
			console.log("test");
			location.href = 'https://liamThiveux.github.io/sips/selection.html?cardNumber='+c;
		}
	</script>
</p>
	<!-- WhatsHelp.io widget -->
<script type="text/javascript">
    (function () {
        var options = {
            facebook: "2040623319537984", // Facebook page ID
            company_logo_url: "//storage.whatshelp.io/widget/07/07cc/07ccad475cc41ff1c4dc88fce8492b1b/27971861_2040623472871302_7848564331615468257_n.png", // URL of company logo (png, jpg, gif)
            greeting_message: "Hello there, I'm Liam's bot, nice to meet you.", // Text of greeting message
            call_to_action: "Message us", // Call to action
            position: "left", // Position may be 'right' or 'left'
        };
        var proto = document.location.protocol, host = "whatshelp.io", url = proto + "//static." + host;
        var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = url + '/widget-send-button/js/init.js';
        s.onload = function () { WhWidgetSendButton.init(host, proto, options); };
        var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
    })();
</script>
<!-- /WhatsHelp.io widget 	-->
	<button onclick="testMe()"> Test pour sips </button>
	<button onclick="postTry()"> Post try </button>
	<button onclick="otherGithub()"> Install new Payment handler </button>
	<script> 
		function otherGithub() {
			location.href = "https://thiveuxLiam.github.io";
		}
		
		function testMe(){
window.open("https://sims.ibt-agile.qlf.sips.priv.atos.fr/webservices/PaymentWebInitCNRT/v2/PaymentWebInitCNRT.jsp");		
		}
	
function postTry(){
	/*var today = new Date();
	var year = today.getFullYear();
	var month = today.getMonth() + 1;
	if (month < 10) {
        	month = "0" + month
    	}
	var day = today.getDate();
    	if (day < 10) {
        day = "0" + day
    }
    var h = today.getHours();
    if (h < 10) {
        h = "0" + h
    }
    var m = today.getMinutes();
    if (m < 10) {
        m = "0" + m
    }
    var s = today.getSeconds();
    if (s < 10) {
        s = "0" + s
    }
	i= year + month + day + h + m + s;*/
	    //var data = "automaticResponseURL=https://sims.ibt-agile.qlf.sips.priv.atos.fr/webservices/PaymentConfirmationCNRT/targetPaymentConfirmationAutoCNRT.jsp|normalReturnURL=https://sims.ibt-agile.qlf.sips.priv.atos.fr/webservices/PaymentConfirmation/PaymentConfirmation.jsp|merchantId=233118849141631|amount=1000|currencyCode=978|transactionReference=1519139063723|keyVersion=1|transactionOrigin=SIMS|automaticErrorResponseInitPOST=https://sims.ibt-agile.qlf.sips.priv.atos.fr/SipsAutomaticErrorInitResponseHandler|manualErrorResponseInitPOST=https://sims.ibt-agile.qlf.sips.priv.atos.fr/SipsManualResponseHandler";
	    //var seal = "a316fd5008eda4c69c2c87f68b0c0aac1a0ef5c7b72a2d3e6e373a608899e4f7";
	/*var params = {Data: data,
		      Encode: "",
		      Seal: seal,
		      InterfaceVersion: "HP_2.20", 
		      SealAlgorithm: ""
		     }*/
	    var params = {
 		't:formdata': "4UNx/N3+UBhBmPDj77kOheJquV8=:H4sIAAAAAAAAAJVUzW4TMRAeigItQUKq+l9AHOC6udALnKJKlSqlCDX0Abxekxrt2s7YbpJLH4UnQH2JHnrrO/QBeuXUA9443gaT3Yib5/P3fTOeGfnXPbRG+7BbMKTnRJjOscjY+BPPAqARDiQOEqIIPWeJIYppg5ODhEpkOU+TlGiWdFMHEmqOOMuz931mrPpwdt2+27x5WIEnPWhTKQzK/AspmIH13g9yQTo5EYNO3yAXg89jZeAFz05mWZeV1P3fkr6ipEzrvk0LrjWX4voq+/j998/bFYCxGr2GvShdygWhQ8uRoR7CJYCBtsO6M6xZUQpaozewH1FCKFwbguvLAJa9WaLxvhuwHnEs5sHuqTsvZtSJC0orsTsvZnjxDmxFV1RaN9hJMHg+i+uZ3ujf7imUmaV/daY9w6aNaVR4023YjCjCFunj/J75sJbnXXZhO67cIjJBq0euBqCB6732YCe6NxPF3FoKHczWSuRbiTSx6+x4hmxo3fpXdjw79UgTu24IFUE+Ln1lKBct/ZyirkZ0vwGKuRVd88jZaa+J7e3ewds4ozAMBcnLH4WNq4e/Cvihx5cr68YtlZJGGlKNOwANXO+1BRvRPbFzrWxNozrW1OIP5mdQhY8FAAA=",
		idMerchant: "947688",
		binAcquirer: "513141",
		merchantName: "WorldlinetestMerchant",
		url: "http://www.worldlinetestmerchant.com",
		mcc: "7333",
		country: "FR",
		productName: "Article 1",
		number: "10.99",
		currency: "EUR",
		typeTrans: "0",
		idRequest: "19204433366103935",
		idRequestor: "12345678",
		returnURL: "https://ssl-liv-bo-interbank.ewallet.aw.atos.net/interbank-bo/merchant/Callback",
		internalContext: "PSP-AtoS",
		oppotota: "OY",
		autor: "00"
		    
	    }
	post("https://ssl-liv-bo-interbank.ewallet.aw.atos.net/interbank-bo/merchant/index.msereqform", params)
		}
	  
function post(path, params) {
    method = "post"; 
    // The rest of this code assumes you are not using a library.
    // It can be made less wordy if you use one.
    var form = document.createElement("form");
    form.setAttribute("method", "post");
    form.setAttribute("action", path);
    //form.setAttribute("target","my_iframe");
    form.setAttribute("onsubmit","javascript:return Tapestry.waitForPage(event);");
    form.setAttribute("id","mseReqform");
    for(var key in params) {
        if(params.hasOwnProperty(key)) {
            var hiddenField = document.createElement("input");
            hiddenField.setAttribute("type", "hidden");
            hiddenField.setAttribute("name", key);
            hiddenField.setAttribute("value", params[key]);
            form.appendChild(hiddenField);
        }
    }
    document.body.appendChild(form);
    form.submit();
}
	</script>
	<button onclick="tryBot()"> Try bot page </button>
	<script type="text/javascript">
		function tryBot() {
			location.href = "https://liamThiveux.github.io/botPage.html";
		}
	</script>
</body>
</html>
